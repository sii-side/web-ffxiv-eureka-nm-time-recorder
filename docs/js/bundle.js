!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var i=function(){function t(t){void 0===t&&(t=null),this.time=t||null}return t.prototype.isNull=function(){return null===this.time},t.prototype.unix=function(){return this.time?this.time.getTime():null},t.prototype.hour=function(){return this.time?("0"+this.time.getHours()).slice(-2):"--"},t.prototype.min=function(){return this.time?("0"+this.time.getMinutes()).slice(-2):"--"},t.prototype.format=function(t,e){return void 0===t&&(t=!1),void 0===e&&(e=!1),(e?"[":"")+this.hour()+(t?":":"")+this.min()+(e?"]":"")},t}(),o={"ア":"ｱ","イ":"ｲ","ウ":"ｳ","エ":"ｴ","オ":"ｵ","カ":"ｶ","キ":"ｷ","ク":"ｸ","ケ":"ｹ","コ":"ｺ","サ":"ｻ","シ":"ｼ","ス":"ｽ","セ":"ｾ","ソ":"ｿ","タ":"ﾀ","チ":"ﾁ","ツ":"ﾂ","テ":"ﾃ","ト":"ﾄ","ナ":"ﾅ","ニ":"ﾆ","ヌ":"ﾇ","ネ":"ﾈ","ノ":"ﾉ","ハ":"ﾊ","ヒ":"ﾋ","フ":"ﾌ","ヘ":"ﾍ","ホ":"ﾎ","マ":"ﾏ","ミ":"ﾐ","ム":"ﾑ","メ":"ﾒ","モ":"ﾓ","ヤ":"ﾔ","ユ":"ﾕ","ヨ":"ﾖ","ラ":"ﾗ","リ":"ﾘ","ル":"ﾙ","レ":"ﾚ","ロ":"ﾛ","ワ":"ﾜ","ヲ":"ｦ","ン":"ﾝ","ー":"ｰ","ヴ":"ｳﾞ","ガ":"ｶﾞ","ギ":"ｷﾞ","グ":"ｸﾞ","ゲ":"ｹﾞ","ゴ":"ｺﾞ","ザ":"ｻﾞ","ジ":"ｼﾞ","ズ":"ｽﾞ","ゼ":"ｾﾞ","ゾ":"ｿﾞ","ダ":"ﾀﾞ","ヂ":"ﾁﾞ","ヅ":"ﾂﾞ","デ":"ﾃﾞ","ド":"ﾄﾞ","バ":"ﾊﾞ","ビ":"ﾋﾞ","ブ":"ﾌﾞ","ベ":"ﾍﾞ","ボ":"ﾎﾞ","パ":"ﾊﾟ","ピ":"ﾋﾟ","プ":"ﾌﾟ","ペ":"ﾍﾟ","ポ":"ﾎﾟ","ァ":"ｧ","ィ":"ｨ","ゥ":"ｩ","ェ":"ｪ","ォ":"ｫ","ャ":"ｬ","ュ":"ｭ","ョ":"ｮ","ッ":"ｯ","ヮ":"ヮ"},r=function(){function t(t,e){this.fullName=t,this.shortName=e,this.time=new i}return t.prototype.full=function(){return this.fullName},t.prototype.short=function(t){return void 0===t&&(t=!0),t?this.halfWidth():this.shortName},t.prototype.halfWidth=function(){return this.shortName.replace(/[ァ-ヶー]/g,function(t){return o[t]})},t.prototype.unix=function(){return this.time?this.time.unix():0},t.prototype.kill=function(t){void 0===t&&(t=null),this.time=new i(t)},t.prototype.reset=function(){this.time=new i},t.prototype.output=function(t){return this.time?""+this.short(t.item("isHalfWidth"))+this.time.format(t.item("useColon"),t.item("useBracket")):""},t.prototype.hasTime=function(){return!this.time.isNull()},t}(),u=function(){function t(t){this.all=t.map(function(t){return new r(t.name,t.dataset.shortName)})}return t.prototype.kill=function(t,e){void 0===e&&(e=null),this.all[t].kill(e)},t.prototype.sort=function(t,e){return void 0===e&&(e=!1),e?t:t.slice().sort(function(t,e){return t.unix()-e.unix()})},t.prototype.filter=function(t,e){return void 0===e&&(e=!1),e?t:t.slice().filter(function(t){return t.hasTime()})},t.prototype.text=function(t,e){return t.map(function(t){return t.output(e)})},t.prototype.output=function(t){var e=t.item("usePunctuation")?"、":" ",n=this.sort(this.all,t.item("sortByIndex")),i=this.filter(n,t.item("outputNoRecord"));return this.text(i,t).join(e)},t.prototype.reset=function(){this.all.forEach(function(t){t.reset()})},t}(),s=function(){function t(){this.element=document.querySelector(".record textarea")}return t.prototype.output=function(t){this.element.value=t},t.prototype.select=function(){this.element.select()},t}(),c=function(){function t(t){this.recorder=t,this.element=document.querySelector(".record input[type=button]")}return t.prototype.init=function(){this.attach()},t.prototype.attach=function(){var t=this;this.element.addEventListener("click",function(e){return t.copy()})},t.prototype.copy=function(){this.recorder.selectRecord(),document.execCommand("copy")},t}(),p=function(){function t(t){this.recorder=t,this.element=document.querySelector(".record input[type=reset]")}return t.prototype.init=function(){this.attach()},t.prototype.attach=function(){var t=this;this.element.addEventListener("click",function(e){return t.reset()})},t.prototype.reset=function(){this.recorder.resetAll()},t}(),a=[["サボ","サボテン","ｻﾎﾞ","ｻﾎﾞﾃﾝ","Sabotender"],["ロード","タコ","ﾛｰﾄﾞ","ﾀｺ","Lord"],["テレス","ﾃﾚｽ","Teles"],["エンペラー","トンボ","エンペ","エンペラ","ｴﾝﾍﾟﾗｰ","ﾄﾝﾎﾞ","ｴﾝﾍﾟ","ｴﾝﾍﾟﾗ","Emperor"],["カリスト","クマ","熊","くま","ｶﾘｽﾄ","ｸﾏ","Callisto"],["ナンバーズ","ナンバ","ﾅﾝﾊﾞｰｽﾞ","ﾅﾝﾊﾞ","Numbers"],["ジャハンナム","ジャハン","雲","くも","くもじい","ｼﾞｬﾊﾝﾅﾑ","ｼﾞｬﾊﾝﾞ","Jahannam"],["アミメット","アメミット","アミメ","アミ","アメミ","恐竜","ｱﾐﾒｯﾄ","ｱﾒﾐｯﾄ","ｱﾐﾒﾞ","ｱﾐ","ｱﾒﾐ","Amemet"],["カイム","ｶｲﾑ","Caym"],["ボンバディール","ボンバ","どーも","ﾎﾞﾝﾊﾞﾃﾞｨｰﾙ","ﾎﾞﾝﾊﾞ","Bombardeel"],["セルケト","蠍","サソリ","ｾﾙｹﾄ","ｻｿﾘ","Serket"],["ジュリカ","モルボル","ｼﾞｭﾘｶ","ﾓﾙﾎﾞﾙ","Julika"],["ホワイト","ライダー","Wライダー","Wライダ","ﾎﾜｲﾄ","ﾗｲﾀﾞｰ","Wﾗｲﾀﾞｰ","Wﾗｲﾀﾞ","Rider"],["ポリュ","巨人","ﾎﾟﾘｭ","Polyphemus"],["ストライダー","鳥","シームルグ","シムルグ","スト","ｽﾄﾗｲﾀﾞｰ","ｼｰﾑﾙｸﾞ","ｼﾑﾙｸﾞ","ｽﾄ","Simurgh"],["ハズマット","ハズマ","ボム","ﾊｽﾞﾏｯﾄ","ﾊｽﾞﾏ","ﾎﾞﾑ","Hazmat"],["ファヴニル","ファヴ","竜","ﾌｧｳﾞﾆﾙ","ﾌｧｳﾞ","Fafnir"],["アマロック","アマ","アマロ","ｱﾏ","ｱﾏﾛｯｸ","ｱﾏﾛ","Amarok"],["ラマ","ラマシュ","ﾗﾏｼｭﾄｩ","ﾗﾏ","ﾗﾏｼｭ","Lamashtu"],["パズズ","バズズ","パズ","ﾊﾟｽﾞｽﾞ","ﾊﾞｽﾞｽﾞ","ﾊﾟｽﾞ","Pazuzu"]],h=function(){function t(t){this.recorder=t,this.element=document.querySelector(".import textarea"),this.button=document.querySelector(".import input")}return t.prototype.init=function(){this.attach()},t.prototype.attach=function(){this.button.addEventListener("click",this.import.bind(this))},t.prototype.import=function(){var t=this.split().filter(function(t){return t.index>-1&&t.time});this.recorder.importReport(t),this.element.value=""},t.prototype.split=function(){var t=this;return this.element.value.split(/[\u0020\u3000、。､｡，．,\.]+/).map(function(e){return t.parse(e)})},t.prototype.parse=function(t){return{index:this.parseName(t),time:this.parseTime(t)}},t.prototype.parseName=function(t){var e=/[a-zA-Zぁ-んァ-ヶー・ｦ-ﾟ\u4E00-\u9FD5]+/u;return e.test(t)?this.findNameIndex(t.match(e)[0]):null},t.prototype.findNameIndex=function(t){return a.findIndex(function(e){return e.includes(t)})},t.prototype.parseTime=function(t){var e=/\[?(\d{1,2}):?(\d{2})\]?/;if(e.test(t)){var n=t.match(e);return this.adjustTime(parseInt(n[1]),parseInt(n[2]))}return null},t.prototype.adjustTime=function(t,e){var n=new Date,i=new Date(n.getFullYear(),n.getMonth(),n.getDate(),t,e);return i.getTime()-n.getTime()>0?new Date(i.setDate(i.getDate()-1)):i},t}(),l=function(){function t(t){this.recorder=t,this.all={},this.elements=Array.from(document.querySelectorAll(".settings input"))}return t.prototype.init=function(){this.load(),this.attach()},t.prototype.item=function(t){return t?this.all[t]:this.all},t.prototype.attach=function(){var t=this;this.elements.forEach(function(e){e.addEventListener("change",t.save.bind(t))})},t.prototype.save=function(){var t=this;this.elements.forEach(function(e){t.all[e.name]=e.checked}),window.localStorage.setItem("settings",JSON.stringify(this.all)),this.recorder.output()},t.prototype.load=function(){var t=this;window.localStorage.getItem("settings")||this.save(),this.all=JSON.parse(window.localStorage.getItem("settings")),this.elements.forEach(function(e){e.checked=t.all[e.name]}),this.recorder.output()},t}();(new(function(){function t(){this.elements=Array.from(document.querySelectorAll(".report input")),this.notoriousMonsters=new u(this.elements),this.record=new s,this.copy=new c(this),this.reset=new p(this),this.import=new h(this),this.settings=new l(this)}return t.prototype.init=function(){this.attach(),this.copy.init(),this.reset.init(),this.import.init(),this.settings.init()},t.prototype.attach=function(){var t=this;this.elements.forEach(function(e){e.addEventListener("click",function(n){return t.report(e,new Date)})})},t.prototype.report=function(t,e){void 0===e&&(e=null);var n=this.elements.indexOf(t);this.notoriousMonsters.kill(n,e),this.output()},t.prototype.output=function(){this.record.output(this.notoriousMonsters.output(this.settings))},t.prototype.resetAll=function(){this.notoriousMonsters.reset(),this.output()},t.prototype.selectRecord=function(){this.record.select()},t.prototype.importReport=function(t){var e=this;this.resetAll(),t.forEach(function(t){e.report(e.elements[t.index],t.time)}),this.output()},t}())).init()}]);