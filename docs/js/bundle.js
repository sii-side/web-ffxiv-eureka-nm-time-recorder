!function(t){var e={};function r(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);class s{constructor(t=null){this.time=t||new Date}unix(){return this.time.getTime()}hour(){return`0${this.time.getHours()}`.slice(-2)}min(){return`0${this.time.getMinutes()}`.slice(-2)}format(){return`${this.hour()}${this.min()}`}}var i={"ア":"ｱ","イ":"ｲ","ウ":"ｳ","エ":"ｴ","オ":"ｵ","カ":"ｶ","キ":"ｷ","ク":"ｸ","ケ":"ｹ","コ":"ｺ","サ":"ｻ","シ":"ｼ","ス":"ｽ","セ":"ｾ","ソ":"ｿ","タ":"ﾀ","チ":"ﾁ","ツ":"ﾂ","テ":"ﾃ","ト":"ﾄ","ナ":"ﾅ","ニ":"ﾆ","ヌ":"ﾇ","ネ":"ﾈ","ノ":"ﾉ","ハ":"ﾊ","ヒ":"ﾋ","フ":"ﾌ","ヘ":"ﾍ","ホ":"ﾎ","マ":"ﾏ","ミ":"ﾐ","ム":"ﾑ","メ":"ﾒ","モ":"ﾓ","ヤ":"ﾔ","ユ":"ﾕ","ヨ":"ﾖ","ラ":"ﾗ","リ":"ﾘ","ル":"ﾙ","レ":"ﾚ","ロ":"ﾛ","ワ":"ﾜ","ヲ":"ｦ","ン":"ﾝ","ー":"ｰ","ヴ":"ｳﾞ","ガ":"ｶﾞ","ギ":"ｷﾞ","グ":"ｸﾞ","ゲ":"ｹﾞ","ゴ":"ｺﾞ","ザ":"ｻﾞ","ジ":"ｼﾞ","ズ":"ｽﾞ","ゼ":"ｾﾞ","ゾ":"ｿﾞ","ダ":"ﾀﾞ","ヂ":"ﾁﾞ","ヅ":"ﾂﾞ","デ":"ﾃﾞ","ド":"ﾄﾞ","バ":"ﾊﾞ","ビ":"ﾋﾞ","ブ":"ﾌﾞ","ベ":"ﾍﾞ","ボ":"ﾎﾞ","パ":"ﾊﾟ","ピ":"ﾋﾟ","プ":"ﾌﾟ","ペ":"ﾍﾟ","ポ":"ﾎﾟ","ァ":"ｧ","ィ":"ｨ","ゥ":"ｩ","ェ":"ｪ","ォ":"ｫ","ャ":"ｬ","ュ":"ｭ","ョ":"ｮ","ッ":"ｯ","ヮ":"ヮ"};class n{constructor(t,e){this.fullName=t,this.shortName=e,this.time=null}full(){return this.fullName}short(t=!0){return t?this.halfWidth():this.shortName}halfWidth(){return this.shortName.replace(/[ァ-ヶー]/g,t=>i[t])}unix(){return this.time?this.time.unix():0}kill(){this.time=new s}reset(){this.time=null}text(){return this.time?`${this.short()}${this.time.format()}`:""}}class o{constructor(t){this.all=t.map(t=>new n(t.name,t.dataset.shortName))}kill(t){this.all[t].kill()}sort(){return this.all.slice().sort((t,e)=>t.unix()-e.unix())}text(){return this.sort().map(t=>t.text()).filter(t=>!!t).join(" ")}reset(){this.all.forEach(t=>{t.reset()})}}class c{constructor(){this.element=document.querySelector(".record textarea")}output(t){this.element.value=t}select(){this.element.select()}}class u{constructor(t){this.recorder=t,this.element=document.querySelector(".record input[type=button]")}init(){this.attach()}attach(){this.element.addEventListener("click",t=>this.copy())}copy(){this.recorder.selectRecord(),document.execCommand("copy")}}class h{constructor(t){this.recorder=t,this.element=document.querySelector(".record input[type=reset]")}init(){this.attach()}attach(){this.element.addEventListener("click",t=>this.reset())}reset(){this.recorder.resetAll()}}var l=[["サボ","サボテン","ｻﾎﾞ","ｻﾎﾞﾃﾝ"],["ロード","タコ","ﾛｰﾄﾞ","ﾀｺ"],["テレス","ﾃﾚｽ"],["エンペラー","トンボ","エンペ","エンペラ","ｴﾝﾍﾟﾗｰ","ﾄﾝﾎﾞ","ｴﾝﾍﾟ","ｴﾝﾍﾟﾗ"],["カリスト","クマ","熊","くま","ｶﾘｽﾄ","ｸﾏ"],["ナンバーズ","ナンバ","ﾅﾝﾊﾞｰｽﾞ","ﾅﾝﾊﾞ"],["ジャハン","雲","くも","くもじい","ｼﾞｬﾊﾝﾅﾑ","ｼﾞｬﾊﾝﾞ"],["アミメ","アミ","アメミ","恐竜","ｱﾐﾒｯﾄ","ｱﾐﾒﾞ","ｱﾒﾐ"],["カイム","ｶｲﾑ"],["ボンバ","どーも","ﾎﾞﾝﾊﾞ"],["セルケト","蠍","サソリ","ｾﾙｹﾄ","ｻｿﾘ"],["ジュリカ","モルボル","ｼﾞｭﾘｶ","ﾓﾙﾎﾞﾙ"],["ホワイト","ライダー","Wライダー","Wライダ","ﾎﾜｲﾄ","ﾗｲﾀﾞｰ","Wﾗｲﾀﾞｰ","Wﾗｲﾀﾞ"],["ポリュ","巨人","ﾎﾟﾘｭ"],["ストライダー","鳥","シームルグ","スト","ｽﾄﾗｲﾀﾞｰ","ｼｰﾑﾙｸﾞ","ｽﾄ"],["ハズマット","ハズマ","ボム","ﾊｽﾞﾏｯﾄ","ﾊｽﾞﾏ","ﾎﾞﾑ"],["ファヴ","竜","ﾌｧｳﾞﾆﾙ","ﾌｧｳﾞ"],["アマ","アマロ","ｱﾏ","ｱﾏﾛｯｸ","ｱﾏﾛ"],["ラマ","ラマシュ","ﾗﾏｼｭﾄｩ","ﾗﾏ","ﾗﾏｼｭ"],["バズズ","パズ","ﾊﾟｽﾞｽﾞ","ﾊﾞｽﾞｽﾞ","ﾊﾟｽﾞ"]];class a{constructor(t){this.recorder=t,this.element=document.querySelector(".import textarea"),this.button=document.querySelector(".import input")}init(){this.attach()}attach(){this.button.addEventListener("click",this.import.bind(this))}import(){console.dir(this.element.value.split(/[\u0020\u3000、。,\.]+/)),console.dir(this.split());const t=this.split().filter(t=>t.index>0&&t.time);console.dir(t),this.recorder.importReport(t)}split(){return this.element.value.split(/[\u0020\u3000、。,\.]+/).map(t=>this.parse(t))}parse(t){return{index:this.parseName(t),time:this.parseTime(t)}}parseName(t){const e=/[ぁ-んァ-ケー・ｦ-ﾟ一-龠]+/u;return e.test(t)?this.findNameIndex(t.match(e)[0]):null}findNameIndex(t){return l.findIndex(e=>e.includes(t))}parseTime(t){const e=/(\d{1,2}):?(\d{2})/;if(e.test(t)){const r=t.match(e);return this.adjustTime(parseInt(r[1]),parseInt(r[2]))}return null}adjustTime(t,e){const r=new Date,s=new Date(r.getFullYear(),r.getMonth(),r.getDate(),t,e);return s.getTime()-r.getTime()>0?new Date(s.setDate(s.getDate()-1)):s}}(new class{constructor(){this.elements=Array.from(document.querySelectorAll(".report input")),this.notoriousMonsters=new o(this.elements),this.record=new c,this.copy=new u(this),this.reset=new h(this),this.import=new a(this)}init(){this.attach(),this.copy.init(),this.reset.init(),this.import.init()}attach(){this.elements.forEach(t=>{t.addEventListener("click",e=>this.report(t))})}report(t){const e=this.elements.indexOf(t);this.notoriousMonsters.kill(e),this.output()}output(){this.record.output(this.notoriousMonsters.text())}resetAll(){this.notoriousMonsters.reset(),this.output()}selectRecord(){this.record.select()}importReport(t){t.forEach(t=>{this.report(this.elements[t.index])}),this.output()}}).init()}]);